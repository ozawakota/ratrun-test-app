import{n as d,o as c,c as h,a as u,b as v,u as l,p as g,e as I,_ as x,s as y,x as S,y as $,z as _,A}from"./entry.a0788f03.js";import{B,p as V}from"./user.e72c88be.js";import"./api.5ce6cc8e.js";const k=t=>(g("data-v-11d8feb8"),t=t(),I(),t),q={class:"page login"},w={class:"c-inner"},L={class:"login_inner"},F=k(()=>u("h2",{class:"p-title"},"ログイン画面",-1)),N=d({__name:"AppLogin",emits:["updateInput","formSubmitted"],setup(t,{emit:i}){return(a,s)=>(c(),h("section",q,[u("div",w,[u("div",L,[F,v(l(B),{onFormSubmitted:s[0]||(s[0]=r=>a.$emit("formSubmitted",r)),onUpdateInput:s[1]||(s[1]=r=>a.$emit("updateInput",r)),btnText:"ログインする"})])])]))}});const U=x(N,[["__scopeId","data-v-11d8feb8"]]),C=d({__name:"AppLoginContainer",setup(t){const i=y(),{$email:a,$password:s,$changeKey:r}=A(),p=S([{label:"メールアドレス",type:"email",placeholder:"taro.tanaka@example.com",value:"",required:!0,isValid:!0,error:"",validate(e){return a(e,this.required)},isVisibleIcon:!1},{label:"パスワード",type:"password",placeholder:"パスワード(半角英数8~16文字)",value:"",required:!0,isValid:!0,error:"",validate(e){return s(e,this.required)},isVisibleIcon:!0}]);$("formDataKey",p);const m=e=>{p[e.key].value=e.value},f=async()=>{const e=p.reduce((o,{type:n,value:b})=>({...o,[n==="text"?"password":n]:b}),{});try{const o=await V(e);alert(`こんにちは。${e.email}さん。top画面へ遷移します。`),i.push("/")}catch{alert("ログインに失敗しました")}};return(e,o)=>(c(),_(l(U),{onFormSubmitted:f,onUpdateInput:o[0]||(o[0]=n=>m(n))}))}}),z=d({__name:"login",setup(t){return(i,a)=>(c(),_(l(C)))}});export{z as default};
