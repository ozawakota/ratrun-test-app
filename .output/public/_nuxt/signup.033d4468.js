import{n as d,o as c,c as v,a as u,b as g,u as _,p as S,e as b,_ as I,s as x,x as y,y as $,z as l,A}from"./entry.a0788f03.js";import{B,a as V}from"./user.e72c88be.js";import"./api.5ce6cc8e.js";const k=t=>(S("data-v-2c0f75dd"),t=t(),b(),t),q={class:"page signup"},w={class:"c-inner"},F={class:"signup_inner"},N=k(()=>u("h2",{class:"p-title"},"新規会員登録",-1)),R=d({__name:"AppSignup",emits:["updateInput","formSubmitted"],setup(t,{emit:p}){return(r,s)=>(c(),v("section",q,[u("div",w,[u("div",F,[N,g(_(B),{onFormSubmitted:s[0]||(s[0]=o=>r.$emit("formSubmitted",o)),onUpdateInput:s[1]||(s[1]=o=>r.$emit("updateInput",o)),btnText:"同意して新規登録する(無料)"})])])]))}});const U=I(R,[["__scopeId","data-v-2c0f75dd"]]),C=d({__name:"AppSignupContainer",setup(t){const p=x(),{$email:r,$password:s,$changeKey:o}=A(),i=y([{label:"メールアドレス",type:"email",placeholder:"taro.tanaka@example.com",value:"",required:!0,isValid:!0,error:"",validate(e){return r(e,this.required)},isVisibleIcon:!1},{label:"パスワード",type:"password",placeholder:"パスワード(半角英数8~16文字)",value:"",required:!0,isValid:!0,error:"",validate(e){return s(e,this.required)},isVisibleIcon:!0}]);$("formDataKey",i);const m=e=>{i[e.key].value=e.value},f=async()=>{const e=i.reduce((a,{type:n,value:h})=>({...a,[n==="text"?"password":n]:h}),{});try{const a=await V(e);alert("新規登録に成功しました。画面を遷移します。"),p.push("/users/login")}catch{alert("新規登録に失敗しました。")}};return(e,a)=>(c(),l(_(U),{onFormSubmitted:f,onUpdateInput:a[0]||(a[0]=n=>m(n))}))}}),E=d({__name:"signup",setup(t){return(p,r)=>(c(),l(_(C)))}});export{E as default};
